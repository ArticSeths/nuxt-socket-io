(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{250:function(n,t,e){var content=e(267);"string"==typeof content&&(content=[[n.i,content,""]]),content.locals&&(n.exports=content.locals);(0,e(43).default)("216c170f",content,!0,{sourceMap:!1})},266:function(n,t,e){"use strict";var c=e(250);e.n(c).a},267:function(n,t,e){(n.exports=e(42)(!1)).push([n.i,".channel[data-v-a0b65c08]{display:grid;grid-template:repeat(4,80px) 45px/5fr 1fr;grid-gap:15px}.channel-content[data-v-a0b65c08]{grid-row:span 4}.channel-users[data-v-a0b65c08]{grid-column:2}.channel-msgs-txt[data-v-a0b65c08]{height:100%}.chats-container[data-v-a0b65c08]{border:1px solid;border-radius:10px;height:100%;padding:10px;background:#36393f;color:#f2ffed;overflow-y:scroll}.chat-separator[data-v-a0b65c08]{background:rgba(242,255,237,.36863)}.chat-user[data-v-a0b65c08]{font-weight:700}.chat-time[data-v-a0b65c08]{float:right;font-size:.75rem}.input-msg[data-v-a0b65c08]{grid-row:5}.submit-btn[data-v-a0b65c08]{grid-row:5;grid-column:2}",""])},279:function(n,t,e){"use strict";e.r(t);var c={directives:{showRecent:{update:function(n,t){t.value!==t.oldValue&&setTimeout((function(){n.scrollTop=n.scrollHeight}),250)}}},props:{user:{type:String,default:""}},data:function(){return{joinedChannel:{},channelInfo:{},chatMessage:"",inputMsg:"",msgRxd:{},joinMsg:{},leaveMsg:{}}},computed:{channel:function(){return this.$route.params.channel},chats:function(){return this.channelInfo.chats},namespace:function(){return this.channelInfo.namespace},room:function(){return this.$route.params.room},userMsg:function(){return{inputMsg:this.inputMsg,user:this.user,room:this.room,channel:this.channel,namespace:this.namespace}}},watch:{channel:function(n,t){var e=this.room,c=this.user;this.leaveMsg={room:e,channel:t,user:c},this.leaveChannel(),this.joinMsg={room:e,channel:n,user:c},this.joinChannel()}},mounted:function(){this.socket=this.$nuxtSocket({channel:"/channel"}),this.joinMsg={room:this.room,channel:this.channel,user:this.user},this.joinChannel()},methods:{appendChats:function(n){this.channelInfo.chats.push(n),this.inputMsg=""},updateChannelInfo:function(n){var t=n.room,e=n.users,c=n.channel,r=n.namespace,o=this.channel;t===this.room&&c===o&&Object.assign(this.channelInfo,{users:e,namespace:r})}}},r=(e(266),e(44)),component=Object(r.a)(c,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[e("div",{staticClass:"channel"},[e("div",{staticClass:"channel-content"},[e("div",{directives:[{name:"show-recent",rawName:"v-show-recent",value:n.chats?n.chats.length:0,expression:"chats ? chats.length : 0"}],staticClass:"chats-container"},[n._l(n.chats,(function(t,c){return e("div",{key:c},[e("hr",{directives:[{name:"show",rawName:"v-show",value:c>0,expression:"idx > 0"}],staticClass:"chat-separator"}),n._v(" "),e("span",{staticClass:"chat-user"},[n._v(" "+n._s(t.user)+" ")]),n._v(" "),e("span",{staticClass:"chat-time"},[n._v("\n            "+n._s(new Date(t.timestamp).toLocaleString())+"\n          ")]),n._v(" "),e("div",{staticClass:"chat-msg"},[n._v(n._s(t.inputMsg))])])})),n._v(" "),e("div"),n._v(" "),e("div")],2)]),n._v(" "),e("div",{staticClass:"channel-users"},[e("label",[n._v("Users in channel:")]),n._v(" "),n._l(n.channelInfo.users,(function(t){return e("div",{key:t},[n._v("\n        "+n._s(t)+"\n      ")])}))],2),n._v(" "),e("b-form-input",{staticClass:"input-msg",attrs:{type:"text"},on:{keyup:function(t){return!t.type.indexOf("key")&&n._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.sendMsg(t)}},model:{value:n.inputMsg,callback:function(t){n.inputMsg=t},expression:"inputMsg"}}),n._v(" "),e("b-button",{staticClass:"submit-btn",attrs:{type:"button"},on:{click:function(t){return n.sendMsg()}}},[n._v("Submit")])],1)])}),[],!1,null,"a0b65c08",null);t.default=component.exports}}]);